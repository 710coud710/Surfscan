<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="popup.css">
  </head>
  <body>
    <!-- PHASE 1: Giao di·ªán tr∆∞·ªõc khi b·∫≠t Auto-Scan -->
    <div id="phase1" class="phase-container">
      <div class="intro-section">
        <h2>SURFSCANüèÑ‚Äç‚ôÇÔ∏è</h2>
        <p class="description">Auto-scan and collect data from academic websites, news, and articles</p>
        
        <!-- <div class="features">
          <div class="feature-item">
            <span>Title & Author</span>
          </div>
          <div class="feature-item">
            <span>Publisher</span>
          </div>
          <div class="feature-item">
            <span>Date Published</span>
          </div>
          <div class="feature-item">
            <span>Abstract</span>
          </div>
        </div> -->
        
        <div class="button-group">
          <button id="startAutoScan" class="start-btn">
            START AUTO-SCAN
          </button>
          <button id="manualScanBtn" class="manual-btn">
            MANUAL SCAN
          </button>
        </div>
        
        <div id="status" class="status"></div>
      </div>
    </div>

    <!-- PHASE 2: Giao di·ªán sau khi b·∫≠t Auto-Scan -->
    <div id="phase2" class="phase-container hidden">
      <div class="header-controls">
        <h3>AUTO-SCAN IS RUNNING</h3>
        <button id="stopAutoScan" class="stop-btn">STOP</button>
      </div>
      
      <div class="data-table-container" id="dataTableContainer">
        <div class="table-header">
          <span class="drag-handle">‚ãÆ‚ãÆ</span>
          <span class="table-title">DATA SCANNED</span>
          <span class="data-count" id="dataCount">0 items</span>
        </div>
        
        <div class="table-content" id="tableContent">
          <div class="table-row table-header-row">
            <div class="col-title">TITLE</div>
            <div class="col-author">AUTHOR</div>
            <div class="col-publisher">PUBLISHER</div>
            <div class="col-date">DATE</div>
          </div>
          <div id="dataRows" class="data-rows">
            <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
          </div>
        </div>
        
        <div class="table-footer">
          <button id="exportAllBtn" class="export-btn">EXPORT EXCEL</button>
          <button id="clearDataBtn" class="clear-btn">CLEAR ALL</button>
        </div>
      </div>
    </div>

    <!-- PHASE 3: Manual Scan Mode -->
    <div id="phase3" class="phase-container hidden">
      <div class="manual-scan-header">
        <h3>MANUAL SCAN MODE</h3>
        <button id="backToPhase1" class="back-btn">‚Üê BACK</button>
      </div>
      
      <div class="scan-controls">
        <button id="scanCurrentPage" class="scan-btn">
          SCAN CURRENT PAGE
        </button>
        <div class="scan-status" id="scanStatus"></div>
      </div>
      
      <div class="scanned-data-preview" id="scannedDataPreview">
        <div class="preview-header">
          <h4>SCANNED DATA</h4>
          <div class="data-actions">
            <button id="saveDataBtn" class="save-btn" disabled>SAVE TO BACKEND</button>
            <button id="clearPreviewBtn" class="clear-preview-btn">CLEAR</button>
          </div>
        </div>
        
        <div class="preview-content" id="previewContent">
          <div class="no-data">No data scanned yet. Click "SCAN CURRENT PAGE" to start.</div>
        </div>
      </div>
      
      <!-- Data Detail Modal -->
      <div id="dataDetailModal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h4 id="modalFieldName">Field Details</h4>
            <button id="closeModal" class="close-btn">√ó</button>
          </div>
          <div class="modal-body">
            <div id="modalFieldContent" class="modal-field-content"></div>
          </div>
        </div>
      </div>
      </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer" class="notification-container"></div>

    <script src="popup.js"></script>
  </body>
</html>
